<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Boaz Baliejukia" />

<meta name="date" content="2025-02-06" />

<title>Evans Cohort Secondary Analysis with EpiStats and other useful packages</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Evans Cohort Secondary Analysis with
EpiStats and other useful packages</h1>
<h4 class="author">Boaz Baliejukia</h4>
<h4 class="date">2025-02-06</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This is a secondary analysis of the Multiparameter Intelligent
Monitoring in Intensive Care II database, consisting of 24,000 patients
admitted to the Beth Israel Deaconess Medical Center ICU between 2001
and 2008. Patients requiring mechanical ventilation who did not require
vasopressors or have a diagnosis of sepsis were identified (1776
patients), and the primary outcome was 28-day mortality. Our objective
was to investigate the <strong>association between the use of indwelling
arterial catheters (IAC) and mortality in hemodynamically stable
patients with respiratory failure</strong>, using several methods like
multivariate regression and stratification to adjust for
confounding.</p>
</div>
<div id="loading-useful-packages" class="section level2">
<h2>Loading useful packages</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for data handling</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(EpiStats)  <span class="co"># Provides functions for epidemiological analysis</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(knitr)      <span class="co"># to get well formatted tables</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(rstatix)    <span class="co"># Provides a simple and intuitive pipe-friendly framework </span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(gtsummary)  <span class="co"># Creates publication-ready summary tables for models</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">library</span>(report)     <span class="co"># Facilitates the creation of reports for statistical models</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">library</span>(finalfit)   <span class="co"># For final results tables and plots for publication</span></span></code></pre></div>
</div>
<div id="load-in-data" class="section level2">
<h2>Load in data</h2>
<p>Let’s load in the dataset from the project directory using the
read.csv() function and call it catheter. The dataset has 46 variables
and 1776 selected participants who met the inclusion criteria.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>catheter <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;full_cohort_data.csv&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">glimpse</span>(catheter)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; Rows: 1,776</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt; Columns: 46</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; $ aline_flg          &lt;int&gt; 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, …</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; $ icu_los_day        &lt;dbl&gt; 7.63, 1.14, 2.86, 0.58, 1.75, 1.38, 7.06, 15.30, 3.…</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; $ hospital_los_day   &lt;int&gt; 13, 1, 5, 3, 5, 9, 27, 33, 4, 7, 2, 6, 11, 18, 14, …</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt; $ age                &lt;dbl&gt; 72.36841, 64.92076, 36.50000, 44.49191, 23.74217, 3…</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; $ gender_num         &lt;int&gt; 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, …</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#&gt; $ weight_first       &lt;dbl&gt; 75.0, 55.0, 70.0, NA, 95.2, 72.0, 90.0, 69.7, 52.6,…</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co">#&gt; $ bmi                &lt;dbl&gt; 29.91279, 20.12131, 27.11827, NA, 28.46456, 23.9824…</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#&gt; $ sapsi_first        &lt;int&gt; 15, NA, 16, 21, 18, 14, 15, 16, 9, 13, 16, 18, 14, …</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co">#&gt; $ sofa_first         &lt;int&gt; 9, 5, 5, 7, 7, 5, 6, 8, 5, 9, 5, 7, 12, 6, 6, 5, 7,…</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="co">#&gt; $ service_unit       &lt;chr&gt; &quot;SICU&quot;, &quot;MICU&quot;, &quot;MICU&quot;, &quot;SICU&quot;, &quot;SICU&quot;, &quot;SICU&quot;, &quot;SI…</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co">#&gt; $ service_num        &lt;int&gt; 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, …</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">#&gt; $ day_icu_intime     &lt;chr&gt; &quot;Friday   &quot;, &quot;Saturday &quot;, &quot;Friday   &quot;, &quot;Saturday &quot;,…</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co">#&gt; $ day_icu_intime_num &lt;int&gt; 6, 7, 6, 7, 7, 1, 7, 5, 6, 6, 5, 4, 2, 6, 5, 6, 4, …</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co">#&gt; $ hour_icu_intime    &lt;int&gt; 6, 17, 3, 4, 7, 12, 22, 14, 21, 10, 20, 3, 12, 20, …</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co">#&gt; $ hosp_exp_flg       &lt;int&gt; 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co">#&gt; $ icu_exp_flg        &lt;int&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co">#&gt; $ day_28_flg         &lt;int&gt; 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co">#&gt; $ mort_day_censored  &lt;dbl&gt; 11.92, 731.00, 731.00, 0.00, 731.00, 731.00, 731.00…</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co">#&gt; $ censor_flg         &lt;int&gt; 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">#&gt; $ sepsis_flg         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="co">#&gt; $ chf_flg            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, …</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="co">#&gt; $ afib_flg           &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, …</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="co">#&gt; $ renal_flg          &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="co">#&gt; $ liver_flg          &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="co">#&gt; $ copd_flg           &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a><span class="co">#&gt; $ cad_flg            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …</span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a><span class="co">#&gt; $ stroke_flg         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a><span class="co">#&gt; $ mal_flg            &lt;int&gt; 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, …</span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a><span class="co">#&gt; $ resp_flg           &lt;int&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, …</span></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="co">#&gt; $ map_1st            &lt;dbl&gt; 92.0000, 86.6667, 69.6667, 101.0000, 105.0000, 104.…</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a><span class="co">#&gt; $ hr_1st             &lt;int&gt; 86, 85, 135, 125, 107, 90, 94, 105, 85, 114, 66, 92…</span></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a><span class="co">#&gt; $ temp_1st           &lt;dbl&gt; 95.90, 97.60, 96.30, 100.10, 96.30, 98.40, 100.40, …</span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a><span class="co">#&gt; $ spo2_1st           &lt;int&gt; 100, 100, 99, 100, 100, 100, 100, 100, 100, 93, 100…</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a><span class="co">#&gt; $ abg_count          &lt;int&gt; 22, 1, 3, 4, 9, 0, 18, 40, 3, 11, 2, 4, 22, 27, 16,…</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a><span class="co">#&gt; $ wbc_first          &lt;dbl&gt; 8.1, NA, 27.0, 7.1, 4.8, 12.1, 21.6, 19.9, 11.1, 7.…</span></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a><span class="co">#&gt; $ hgb_first          &lt;dbl&gt; 14.1, NA, 13.1, 12.6, 10.7, 14.4, 13.4, 7.8, 11.4, …</span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a><span class="co">#&gt; $ platelet_first     &lt;int&gt; 354, NA, 295, 262, 22, 182, 130, 20, 238, 137, 423,…</span></span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a><span class="co">#&gt; $ sodium_first       &lt;int&gt; 138, NA, 144, 139, 146, 145, 143, 140, 143, 143, 14…</span></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a><span class="co">#&gt; $ potassium_first    &lt;dbl&gt; 4.6, NA, 3.9, 4.2, 3.4, 3.6, 3.8, 3.7, 4.0, 3.7, 3.…</span></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a><span class="co">#&gt; $ tco2_first         &lt;dbl&gt; 15, NA, 17, 31, 19, 26, 32, 20, 25, 28, 32, 22, 26,…</span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a><span class="co">#&gt; $ chloride_first     &lt;int&gt; 109, NA, 101, 100, 110, 110, 104, 105, 107, 104, 11…</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a><span class="co">#&gt; $ bun_first          &lt;int&gt; 41, NA, 16, 16, 10, 10, 17, 30, 15, 2, 15, 43, 12, …</span></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a><span class="co">#&gt; $ creatinine_first   &lt;dbl&gt; 1.6, NA, 0.8, 0.5, 1.0, 0.7, 1.3, 1.2, 0.7, 0.3, 0.…</span></span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a><span class="co">#&gt; $ po2_first          &lt;int&gt; 196, NA, 298, 146, 134, NA, 38, 57, 212, 284, 76, 1…</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a><span class="co">#&gt; $ pco2_first         &lt;int&gt; 39, NA, 30, 23, 30, NA, 62, 28, 41, 33, 56, 32, 32,…</span></span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="co">#&gt; $ iv_day_1           &lt;dbl&gt; 2230.87500, 600.00000, 2086.80029, NA, 2358.24414, …</span></span></code></pre></div>
</div>
<div id="data-handling" class="section level2">
<h2>Data handling</h2>
<p>Let’s select and rename variables of interest: the exposure (Use of
IAC), the outcome (death) and potential confounders (age; sex; sofa
score; service unit; coincident diseases like COPD and other respiratory
diseases, congestive heart failure (CHF), Atrial fibrillation (AF),
chronic renal disease, chronic liver diseases, coronary artery disease,
stroke and malignancy; and laboratory tests such as wbc, hemoglobin,
platelet, sodium, potassium, bicarbonate, chloride, urea, creatinine,
po2 and pco2 .</p>
<p>lack of pneumonia, DNR at admission and Change in code status during
ICU admission.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>variables.of.int <span class="ot">&lt;-</span> catheter <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">IAC =</span> aline_flg, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>         <span class="at">death =</span> day_28_flg, </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>         age, </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>         <span class="at">sex =</span> gender_num, </span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>         <span class="at">sofa =</span> sofa_first, </span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>         service_unit, </span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>         <span class="at">COPD =</span> copd_flg,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>         <span class="at">Other.resp.D =</span> resp_flg, </span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>         <span class="at">CHF =</span> chf_flg, </span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>         <span class="at">AF =</span> afib_flg, </span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>         <span class="at">chr.renal.D =</span> renal_flg, </span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>         <span class="at">chr.liver.D =</span> liver_flg,</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>         <span class="at">coronary.D =</span> cad_flg, </span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>         <span class="at">stroke =</span> stroke_flg, </span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>         <span class="at">malignancy =</span> mal_flg, </span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>         <span class="at">wbc =</span> wbc_first, </span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>         <span class="at">hemoglobin =</span> hgb_first, </span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>         <span class="at">platelet =</span> platelet_first,</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>         <span class="at">sodium =</span> sodium_first, </span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>         <span class="at">potassium =</span> potassium_first,</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>         <span class="at">bicarbonate =</span> tco2_first, </span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>         <span class="at">chloride =</span> chloride_first,</span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a>         <span class="at">urea =</span> bun_first, </span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a>         <span class="at">creat =</span> creatinine_first, </span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>         <span class="at">po2 =</span> po2_first,</span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a>         <span class="at">pco2 =</span> pco2_first)</span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="fu">head</span>(variables.of.int)</span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a><span class="co">#&gt;   IAC death      age sex sofa service_unit COPD Other.resp.D CHF AF chr.renal.D</span></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="co">#&gt; 1   1     1 72.36841   1    9         SICU    0            0   0  0           0</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="co">#&gt; 2   0     0 64.92076   0    5         MICU    0            0   0  0           0</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a><span class="co">#&gt; 3   0     0 36.50000   0    5         MICU    0            0   0  0           0</span></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="co">#&gt; 4   1     1 44.49191   0    7         SICU    0            0   0  0           0</span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a><span class="co">#&gt; 5   1     0 23.74217   1    7         SICU    0            0   0  0           0</span></span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a><span class="co">#&gt; 6   0     0 36.54657   1    5         SICU    0            0   0  0           0</span></span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a><span class="co">#&gt;   chr.liver.D coronary.D stroke malignancy  wbc hemoglobin platelet sodium</span></span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a><span class="co">#&gt; 1           0          0      0          1  8.1       14.1      354    138</span></span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a><span class="co">#&gt; 2           0          0      0          0   NA         NA       NA     NA</span></span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a><span class="co">#&gt; 3           0          0      0          0 27.0       13.1      295    144</span></span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a><span class="co">#&gt; 4           0          0      0          1  7.1       12.6      262    139</span></span>
<span id="cb3-42"><a href="#cb3-42" tabindex="-1"></a><span class="co">#&gt; 5           0          0      0          0  4.8       10.7       22    146</span></span>
<span id="cb3-43"><a href="#cb3-43" tabindex="-1"></a><span class="co">#&gt; 6           0          0      0          0 12.1       14.4      182    145</span></span>
<span id="cb3-44"><a href="#cb3-44" tabindex="-1"></a><span class="co">#&gt;   potassium bicarbonate chloride urea creat po2 pco2</span></span>
<span id="cb3-45"><a href="#cb3-45" tabindex="-1"></a><span class="co">#&gt; 1       4.6          15      109   41   1.6 196   39</span></span>
<span id="cb3-46"><a href="#cb3-46" tabindex="-1"></a><span class="co">#&gt; 2        NA          NA       NA   NA    NA  NA   NA</span></span>
<span id="cb3-47"><a href="#cb3-47" tabindex="-1"></a><span class="co">#&gt; 3       3.9          17      101   16   0.8 298   30</span></span>
<span id="cb3-48"><a href="#cb3-48" tabindex="-1"></a><span class="co">#&gt; 4       4.2          31      100   16   0.5 146   23</span></span>
<span id="cb3-49"><a href="#cb3-49" tabindex="-1"></a><span class="co">#&gt; 5       3.4          19      110   10   1.0 134   30</span></span>
<span id="cb3-50"><a href="#cb3-50" tabindex="-1"></a><span class="co">#&gt; 6       3.6          26      110   10   0.7  NA   NA</span></span></code></pre></div>
<p>Let’s recode categorical variables to get summary statistics
table</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>variables.of.int.recoded <span class="ot">&lt;-</span> variables.of.int <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">IAC =</span> <span class="fu">case_when</span>(IAC <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , IAC <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">death =</span> <span class="fu">case_when</span>(death <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , death <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">case_when</span>(sex <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;male&quot;</span> , sex <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;female&quot;</span> )) <span class="sc">%&gt;%</span> </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">COPD =</span> <span class="fu">case_when</span>(COPD <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , COPD <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Other.resp.D =</span> <span class="fu">case_when</span>(Other.resp.D <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , Other.resp.D <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CHF =</span> <span class="fu">case_when</span>(CHF <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , CHF <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AF =</span> <span class="fu">case_when</span>(AF <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , AF <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">chr.renal.D =</span> <span class="fu">case_when</span>(chr.renal.D <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , chr.renal.D <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">chr.liver.D =</span> <span class="fu">case_when</span>(chr.liver.D <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , chr.liver.D <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">coronary.D =</span> <span class="fu">case_when</span>(coronary.D <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , coronary.D <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stroke =</span> <span class="fu">case_when</span>(stroke <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , stroke <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">malignancy =</span> <span class="fu">case_when</span>(malignancy <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;yes&quot;</span> , malignancy <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;no&quot;</span> ))</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="fu">head</span>(variables.of.int.recoded)</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt;   IAC death      age    sex sofa service_unit COPD Other.resp.D CHF AF</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; 1 yes   yes 72.36841   male    9         SICU   no           no  no no</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt; 2  no    no 64.92076 female    5         MICU   no           no  no no</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; 3  no    no 36.50000 female    5         MICU   no           no  no no</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; 4 yes   yes 44.49191 female    7         SICU   no           no  no no</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; 5 yes    no 23.74217   male    7         SICU   no           no  no no</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; 6  no    no 36.54657   male    5         SICU   no           no  no no</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt;   chr.renal.D chr.liver.D coronary.D stroke malignancy  wbc hemoglobin platelet</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt; 1          no          no         no     no        yes  8.1       14.1      354</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt; 2          no          no         no     no         no   NA         NA       NA</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="co">#&gt; 3          no          no         no     no         no 27.0       13.1      295</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co">#&gt; 4          no          no         no     no        yes  7.1       12.6      262</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co">#&gt; 5          no          no         no     no         no  4.8       10.7       22</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="co">#&gt; 6          no          no         no     no         no 12.1       14.4      182</span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="co">#&gt;   sodium potassium bicarbonate chloride urea creat po2 pco2</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="co">#&gt; 1    138       4.6          15      109   41   1.6 196   39</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a><span class="co">#&gt; 2     NA        NA          NA       NA   NA    NA  NA   NA</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="co">#&gt; 3    144       3.9          17      101   16   0.8 298   30</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="co">#&gt; 4    139       4.2          31      100   16   0.5 146   23</span></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a><span class="co">#&gt; 5    146       3.4          19      110   10   1.0 134   30</span></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a><span class="co">#&gt; 6    145       3.6          26      110   10   0.7  NA   NA</span></span></code></pre></div>
<p>Let’s get summary statistics with the tbl_summary() function from the
“gtsummary” package. This function is handy when dealing with both
numerical and categorical data: <br /> - Count and Percentage for
categorical data <br /> - Median and Quartiles for numeric data
<br /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">tbl_summary</span>(variables.of.int.recoded, </span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>            <span class="at">missing =</span> <span class="st">&quot;no&quot;</span>)</span></code></pre></div>
<div id="bxaskaoxmq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bxaskaoxmq table {
font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}
#bxaskaoxmq thead, #bxaskaoxmq tbody, #bxaskaoxmq tfoot, #bxaskaoxmq tr, #bxaskaoxmq td, #bxaskaoxmq th {
border-style: none;
}
#bxaskaoxmq p {
margin: 0;
padding: 0;
}
#bxaskaoxmq .gt_table {
display: table;
border-collapse: collapse;
line-height: normal;
margin-left: auto;
margin-right: auto;
color: #333333;
font-size: 16px;
font-weight: normal;
font-style: normal;
background-color: #FFFFFF;
width: auto;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #A8A8A8;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #A8A8A8;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
}
#bxaskaoxmq .gt_caption {
padding-top: 4px;
padding-bottom: 4px;
}
#bxaskaoxmq .gt_title {
color: #333333;
font-size: 125%;
font-weight: initial;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
border-bottom-color: #FFFFFF;
border-bottom-width: 0;
}
#bxaskaoxmq .gt_subtitle {
color: #333333;
font-size: 85%;
font-weight: initial;
padding-top: 3px;
padding-bottom: 5px;
padding-left: 5px;
padding-right: 5px;
border-top-color: #FFFFFF;
border-top-width: 0;
}
#bxaskaoxmq .gt_heading {
background-color: #FFFFFF;
text-align: center;
border-bottom-color: #FFFFFF;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}
#bxaskaoxmq .gt_bottom_border {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#bxaskaoxmq .gt_col_headings {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}
#bxaskaoxmq .gt_col_heading {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 6px;
padding-left: 5px;
padding-right: 5px;
overflow-x: hidden;
}
#bxaskaoxmq .gt_column_spanner_outer {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
padding-top: 0;
padding-bottom: 0;
padding-left: 4px;
padding-right: 4px;
}
#bxaskaoxmq .gt_column_spanner_outer:first-child {
padding-left: 0;
}
#bxaskaoxmq .gt_column_spanner_outer:last-child {
padding-right: 0;
}
#bxaskaoxmq .gt_column_spanner {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 5px;
overflow-x: hidden;
display: inline-block;
width: 100%;
}
#bxaskaoxmq .gt_spanner_row {
border-bottom-style: hidden;
}
#bxaskaoxmq .gt_group_heading {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
text-align: left;
}
#bxaskaoxmq .gt_empty_group_heading {
padding: 0.5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: middle;
}
#bxaskaoxmq .gt_from_md > :first-child {
margin-top: 0;
}
#bxaskaoxmq .gt_from_md > :last-child {
margin-bottom: 0;
}
#bxaskaoxmq .gt_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
margin: 10px;
border-top-style: solid;
border-top-width: 1px;
border-top-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
overflow-x: hidden;
}
#bxaskaoxmq .gt_stub {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
}
#bxaskaoxmq .gt_stub_row_group {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
vertical-align: top;
}
#bxaskaoxmq .gt_row_group_first td {
border-top-width: 2px;
}
#bxaskaoxmq .gt_row_group_first th {
border-top-width: 2px;
}
#bxaskaoxmq .gt_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}
#bxaskaoxmq .gt_first_summary_row {
border-top-style: solid;
border-top-color: #D3D3D3;
}
#bxaskaoxmq .gt_first_summary_row.thick {
border-top-width: 2px;
}
#bxaskaoxmq .gt_last_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#bxaskaoxmq .gt_grand_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}
#bxaskaoxmq .gt_first_grand_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-top-style: double;
border-top-width: 6px;
border-top-color: #D3D3D3;
}
#bxaskaoxmq .gt_last_grand_summary_row_top {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: double;
border-bottom-width: 6px;
border-bottom-color: #D3D3D3;
}
#bxaskaoxmq .gt_striped {
background-color: rgba(128, 128, 128, 0.05);
}
#bxaskaoxmq .gt_table_body {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#bxaskaoxmq .gt_footnotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}
#bxaskaoxmq .gt_footnote {
margin: 0px;
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}
#bxaskaoxmq .gt_sourcenotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}
#bxaskaoxmq .gt_sourcenote {
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}
#bxaskaoxmq .gt_left {
text-align: left;
}
#bxaskaoxmq .gt_center {
text-align: center;
}
#bxaskaoxmq .gt_right {
text-align: right;
font-variant-numeric: tabular-nums;
}
#bxaskaoxmq .gt_font_normal {
font-weight: normal;
}
#bxaskaoxmq .gt_font_bold {
font-weight: bold;
}
#bxaskaoxmq .gt_font_italic {
font-style: italic;
}
#bxaskaoxmq .gt_super {
font-size: 65%;
}
#bxaskaoxmq .gt_footnote_marks {
font-size: 75%;
vertical-align: 0.4em;
position: initial;
}
#bxaskaoxmq .gt_asterisk {
font-size: 100%;
vertical-align: 0;
}
#bxaskaoxmq .gt_indent_1 {
text-indent: 5px;
}
#bxaskaoxmq .gt_indent_2 {
text-indent: 10px;
}
#bxaskaoxmq .gt_indent_3 {
text-indent: 15px;
}
#bxaskaoxmq .gt_indent_4 {
text-indent: 20px;
}
#bxaskaoxmq .gt_indent_5 {
text-indent: 25px;
}
#bxaskaoxmq .katex-display {
display: inline-flex !important;
margin-bottom: 0.75em !important;
}
#bxaskaoxmq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label"><span class="gt_from_md"><strong>Characteristic</strong></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="stat_0"><span class="gt_from_md"><strong>N = 1,776</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">IAC</td>
<td headers="stat_0" class="gt_row gt_center">984 (55%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">death</td>
<td headers="stat_0" class="gt_row gt_center">283 (16%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">age</td>
<td headers="stat_0" class="gt_row gt_center">54 (38, 73)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sex</td>
<td headers="stat_0" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    female</td>
<td headers="stat_0" class="gt_row gt_center">750 (42%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">    male</td>
<td headers="stat_0" class="gt_row gt_center">1,025 (58%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sofa</td>
<td headers="stat_0" class="gt_row gt_center">6 (4, 7)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">service_unit</td>
<td headers="stat_0" class="gt_row gt_center"><br /></td></tr>
    <tr><td headers="label" class="gt_row gt_left">    FICU</td>
<td headers="stat_0" class="gt_row gt_center">62 (3.5%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">    MICU</td>
<td headers="stat_0" class="gt_row gt_center">732 (41%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">    SICU</td>
<td headers="stat_0" class="gt_row gt_center">982 (55%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">COPD</td>
<td headers="stat_0" class="gt_row gt_center">157 (8.8%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Other.resp.D</td>
<td headers="stat_0" class="gt_row gt_center">565 (32%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">CHF</td>
<td headers="stat_0" class="gt_row gt_center">213 (12%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">AF</td>
<td headers="stat_0" class="gt_row gt_center">207 (12%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">chr.renal.D</td>
<td headers="stat_0" class="gt_row gt_center">60 (3.4%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">chr.liver.D</td>
<td headers="stat_0" class="gt_row gt_center">99 (5.6%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">coronary.D</td>
<td headers="stat_0" class="gt_row gt_center">123 (6.9%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">stroke</td>
<td headers="stat_0" class="gt_row gt_center">222 (13%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">malignancy</td>
<td headers="stat_0" class="gt_row gt_center">256 (14%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">wbc</td>
<td headers="stat_0" class="gt_row gt_center">11.3 (8.2, 15.0)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">hemoglobin</td>
<td headers="stat_0" class="gt_row gt_center">12.70 (11.10, 14.15)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">platelet</td>
<td headers="stat_0" class="gt_row gt_center">239 (182, 297)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sodium</td>
<td headers="stat_0" class="gt_row gt_center">140 (137, 142)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">potassium</td>
<td headers="stat_0" class="gt_row gt_center">4.00 (3.60, 4.40)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">bicarbonate</td>
<td headers="stat_0" class="gt_row gt_center">24.0 (22.0, 27.0)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">chloride</td>
<td headers="stat_0" class="gt_row gt_center">104 (101, 107)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">urea</td>
<td headers="stat_0" class="gt_row gt_center">15 (11, 22)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">creat</td>
<td headers="stat_0" class="gt_row gt_center">0.90 (0.70, 1.10)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">po2</td>
<td headers="stat_0" class="gt_row gt_center">195 (108, 323)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">pco2</td>
<td headers="stat_0" class="gt_row gt_center">41 (36, 47)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="2"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span class="gt_from_md">n (%); Median (Q1, Q3)</span></td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div id="unmatched-cohorts-analysis" class="section level2">
<h2>Unmatched Cohorts Analysis</h2>
<div id="crude-estimate-of-the-association-between-iac-and-hospital-mortality" class="section level3">
<h3>1. Crude estimate of the association between IAC and hospital
mortality</h3>
<p>Let’s compute the crude estimates first using the CS() function from
the EpiStats package. This function provides us with two tables: <br />
- A 2x2 contingency table illustrates the exposure and outcome of
interest.<br /> - A table presents all possible estimates of the
association.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>result<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">CS</span>(variables.of.int, death, IAC, <span class="at">exact =</span> <span class="cn">TRUE</span>, <span class="at">full =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">kable</span>(result<span class="fl">.1</span><span class="sc">$</span>df1, <span class="at">align =</span> result<span class="fl">.1</span><span class="sc">$</span>df1.align)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th>Cases</th>
<th>Non Cases</th>
<th>Total</th>
<th>Risk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exposed</td>
<td>170</td>
<td>814</td>
<td>984</td>
<td>0.17</td>
</tr>
<tr class="even">
<td>Unexposed</td>
<td>113</td>
<td>679</td>
<td>792</td>
<td>0.14</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>283</td>
<td>1493</td>
<td>1776</td>
<td>0.16</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">kable</span>(result<span class="fl">.1</span><span class="sc">$</span>df2, <span class="at">align =</span> result<span class="fl">.1</span><span class="sc">$</span>df2.align)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th>Point estimate</th>
<th>95%CI.ll</th>
<th>95%CI.ul</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Risk difference</td>
<td>0.03</td>
<td>-0.00</td>
<td>0.06</td>
</tr>
<tr class="even">
<td>Risk ratio</td>
<td>1.21</td>
<td>0.97</td>
<td>1.51</td>
</tr>
<tr class="odd">
<td>Attr. frac. ex.</td>
<td>0.17</td>
<td>-0.03</td>
<td>0.34</td>
</tr>
<tr class="even">
<td>Attr. frac. pop</td>
<td>0.10</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>chi2(1)</td>
<td>2.97</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td>Pr&gt;chi2</td>
<td>0.085</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>Fisher p.value</td>
<td>0.090</td>
<td>NA</td>
<td>NA</td>
</tr>
</tbody>
</table>
<p>Patients with an indwelling arterial catheter faced a
<strong>21%</strong> (95%CI of -3% to 51%) to higher mortality risk
compared to those without it. Additionally, <strong>10%</strong> of
deaths can be attributed to the use of indwelling arterial catheters in
ICU patients who require mechanical ventilation and are hemodynamically
stable. However, this association is not significant (chi2 p =
0.085)</p>
<div id="when-working-with-multiple-exposures-the-cstable-function-can-be-quite-useful-providing-with-a-single-table." class="section level4">
<h4>When working with multiple exposures, the CSTable() function can be
quite useful providing with a single table.</h4>
<p>Let’s say sex, COPD, Other.resp.D, CHF, chr.renal.D and AF are
exposures too.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>result<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">CSTable</span>(variables.of.int, <span class="st">&quot;death&quot;</span>, </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>        <span class="at">exposure =</span> <span class="fu">c</span>(<span class="st">&quot;IAC&quot;</span>, <span class="st">&quot;sex&quot;</span>, <span class="st">&quot;COPD&quot;</span>, <span class="st">&quot;Other.resp.D&quot;</span>, <span class="st">&quot;CHF&quot;</span>, <span class="st">&quot;chr.renal.D&quot;</span>, <span class="st">&quot;AF&quot;</span>),</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>        <span class="at">exact =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>        <span class="at">sort =</span> <span class="st">&quot;rr&quot;</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>        <span class="at">full =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="fu">kable</span>(result<span class="fl">.2</span><span class="sc">$</span>df, <span class="at">align =</span> result<span class="fl">.2</span><span class="sc">$</span>align)</span></code></pre></div>
<table>
<colgroup>
<col width="12%" />
<col width="8%" />
<col width="10%" />
<col width="7%" />
<col width="10%" />
<col width="12%" />
<col width="9%" />
<col width="4%" />
<col width="5%" />
<col width="5%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Tot.Exp</th>
<th align="center">Cases.Exp</th>
<th align="right">AR.Exp%</th>
<th align="center">Tot.Unexp</th>
<th align="center">Cases.Unexp</th>
<th align="right">AR.Unexp%</th>
<th align="right">RR</th>
<th align="right">CI.ll</th>
<th align="right">CI.ul</th>
<th align="right">p(Fisher)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">AF</td>
<td align="center">207</td>
<td align="center">86</td>
<td align="right">41.55</td>
<td align="center">1569</td>
<td align="center">197</td>
<td align="right">12.56</td>
<td align="right">3.31</td>
<td align="right">2.69</td>
<td align="right">4.07</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">CHF</td>
<td align="center">213</td>
<td align="center">68</td>
<td align="right">31.92</td>
<td align="center">1563</td>
<td align="center">215</td>
<td align="right">13.76</td>
<td align="right">2.32</td>
<td align="right">1.84</td>
<td align="right">2.93</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">Other.resp.D</td>
<td align="center">565</td>
<td align="center">128</td>
<td align="right">22.65</td>
<td align="center">1211</td>
<td align="center">155</td>
<td align="right">12.80</td>
<td align="right">1.77</td>
<td align="right">1.43</td>
<td align="right">2.19</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">COPD</td>
<td align="center">157</td>
<td align="center">41</td>
<td align="right">26.11</td>
<td align="center">1619</td>
<td align="center">242</td>
<td align="right">14.95</td>
<td align="right">1.75</td>
<td align="right">1.31</td>
<td align="right">2.33</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">chr.renal.D</td>
<td align="center">60</td>
<td align="center">14</td>
<td align="right">23.33</td>
<td align="center">1716</td>
<td align="center">269</td>
<td align="right">15.68</td>
<td align="right">1.49</td>
<td align="right">0.93</td>
<td align="right">2.39</td>
<td align="right">0.148</td>
</tr>
<tr class="even">
<td align="left">IAC</td>
<td align="center">984</td>
<td align="center">170</td>
<td align="right">17.28</td>
<td align="center">792</td>
<td align="center">113</td>
<td align="right">14.27</td>
<td align="right">1.21</td>
<td align="right">0.97</td>
<td align="right">1.51</td>
<td align="right">0.090</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="center">1025</td>
<td align="center">139</td>
<td align="right">13.56</td>
<td align="center">750</td>
<td align="center">144</td>
<td align="right">19.20</td>
<td align="right">0.71</td>
<td align="right">0.57</td>
<td align="right">0.87</td>
<td align="right">0.002</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="adjusting-for-confounding-variables-using-stratification" class="section level3">
<h3>2. Adjusting for confounding variables using stratification</h3>
<p>Next, we will stratify the cohort by service unit type (MICU, SICU,
FICU) and compute the estimates within each stratum using the function
CSInter().</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>result<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">CSInter</span>(variables.of.int, <span class="st">&quot;death&quot;</span>, <span class="st">&quot;IAC&quot;</span>, <span class="at">by =</span> <span class="st">&quot;service_unit&quot;</span>, <span class="at">full =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="fu">kable</span>(result<span class="fl">.3</span><span class="sc">$</span>df1, <span class="at">align =</span> result<span class="fl">.3</span><span class="sc">$</span>align)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="36%" />
<col width="6%" />
<col width="6%" />
<col width="7%" />
<col width="16%" />
<col width="6%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th>CSInter death - IAC by(service_unit)</th>
<th>Total</th>
<th>Cases</th>
<th>Risk %</th>
<th>P.est.</th>
<th>Stats</th>
<th>95%CI.ll</th>
<th>95%CI.ul</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>service_unit = SICU</td>
<td>982</td>
<td>NA</td>
<td>NA</td>
<td>Risk difference</td>
<td>0.02</td>
<td>-0.02</td>
<td>0.07</td>
</tr>
<tr class="even">
<td>Exposed</td>
<td>694</td>
<td>113</td>
<td>16.28</td>
<td>Risk Ratio</td>
<td>1.17</td>
<td>0.84</td>
<td>1.64</td>
</tr>
<tr class="odd">
<td>Unexposed</td>
<td>288</td>
<td>40</td>
<td>13.89</td>
<td>Attrib.risk.exp</td>
<td>0.15</td>
<td>-0.19</td>
<td>0.39</td>
</tr>
<tr class="even">
<td></td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>Attrib.risk.pop</td>
<td>0.11</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>service_unit = MICU</td>
<td>732</td>
<td>NA</td>
<td>NA</td>
<td>Risk difference</td>
<td>0.07</td>
<td>0.01</td>
<td>0.13</td>
</tr>
<tr class="even">
<td>Exposed</td>
<td>252</td>
<td>55</td>
<td>21.83</td>
<td>Risk Ratio</td>
<td>1.46</td>
<td>1.06</td>
<td>2.00</td>
</tr>
<tr class="odd">
<td>Unexposed</td>
<td>480</td>
<td>72</td>
<td>15.00</td>
<td>Attrib.risk.exp</td>
<td>0.31</td>
<td>0.06</td>
<td>0.50</td>
</tr>
<tr class="even">
<td></td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>Attrib.risk.pop</td>
<td>0.14</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>service_unit = FICU</td>
<td>62</td>
<td>NA</td>
<td>NA</td>
<td>Risk difference</td>
<td>0.01</td>
<td>-0.10</td>
<td>0.12</td>
</tr>
<tr class="even">
<td>Exposed</td>
<td>38</td>
<td>2</td>
<td>5.26</td>
<td>Risk Ratio</td>
<td>1.26</td>
<td>0.12</td>
<td>13.19</td>
</tr>
<tr class="odd">
<td>Unexposed</td>
<td>24</td>
<td>1</td>
<td>4.17</td>
<td>Attrib.risk.exp</td>
<td>0.21</td>
<td>-7.26</td>
<td>0.92</td>
</tr>
<tr class="even">
<td></td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>Attrib.risk.pop</td>
<td>0.14</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>Missing / Missing %</td>
<td>0</td>
<td>0.0%</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">kable</span>(result<span class="fl">.3</span><span class="sc">$</span>df2, <span class="at">align =</span> result<span class="fl">.3</span><span class="sc">$</span>align)</span></code></pre></div>
<table>
<colgroup>
<col width="46%" />
<col width="7%" />
<col width="11%" />
<col width="8%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th>Point Estimate</th>
<th>Chi2</th>
<th>p.value</th>
<th>Stats</th>
<th>95%CI.ll</th>
<th>95%CI.ul</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Woolf test of homogeneity</td>
<td>0.85</td>
<td>0.654</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td>Crude RR for IAC</td>
<td>NA</td>
<td>NA</td>
<td>1.21</td>
<td>0.97</td>
<td>1.51</td>
</tr>
<tr class="odd">
<td>MH RR IAC adjusted for service_unit</td>
<td>NA</td>
<td>NA</td>
<td>1.30</td>
<td>1.04</td>
<td>1.64</td>
</tr>
<tr class="even">
<td>Adjusted/crude relative change</td>
<td>NA</td>
<td>NA</td>
<td>7.68</td>
<td>NA</td>
<td>NA</td>
</tr>
</tbody>
</table>
<p>The association between IAC and mortality exists in both strata
appears to be higher in the MICU, with a risk ratio of 1.46.
Furthermore, the <em>Mantel Heaenszel risk ratio</em> was
<strong>1.30</strong> (1.04-1.64) meaning that the effect (1.21) was
underestimated by the service unit type.</p>
</div>
<div id="multivariable-model-logistic-regression-to-adjust-for-confunding-variables" class="section level3">
<h3>3. Multivariable model (Logistic regression) to adjust for
confunding variables</h3>
<p>Let’s build our model by including all variables of interest in the
data frame using the <code>glm()</code> function. We will specify the
family as “binomial” since we are performing logistic regression; our
response variable consists of binary data, where death is coded as 1 for
yes and 0 for no.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>model<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(death <span class="sc">~</span> ., </span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>              <span class="fu">na.omit</span>(variables.of.int), </span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>               <span class="at">family =</span> <span class="st">&quot;binomial&quot;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="fu">summary</span>(model<span class="fl">.1</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt; glm(formula = death ~ ., family = &quot;binomial&quot;, data = na.omit(variables.of.int))</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">#&gt;                    Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">#&gt; (Intercept)      -5.348e+00  2.712e+00  -1.972  0.04865 *  </span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co">#&gt; IAC               1.416e-02  2.038e-01   0.069  0.94460    </span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="co">#&gt; age               5.451e-02  6.399e-03   8.519  &lt; 2e-16 ***</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co">#&gt; sex               2.249e-01  1.780e-01   1.264  0.20631    </span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co">#&gt; sofa              1.803e-01  4.416e-02   4.084 4.43e-05 ***</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="co">#&gt; service_unitMICU  1.082e+00  6.866e-01   1.575  0.11518    </span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="co">#&gt; service_unitSICU  9.509e-01  6.777e-01   1.403  0.16060    </span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="co">#&gt; COPD              3.046e-02  2.530e-01   0.120  0.90416    </span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a><span class="co">#&gt; Other.resp.D      6.063e-01  1.962e-01   3.091  0.00200 ** </span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a><span class="co">#&gt; CHF               2.978e-01  2.367e-01   1.258  0.20848    </span></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="co">#&gt; AF                4.014e-01  2.127e-01   1.887  0.05917 .  </span></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="co">#&gt; chr.renal.D      -7.242e-01  4.134e-01  -1.752  0.07981 .  </span></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a><span class="co">#&gt; chr.liver.D       2.841e-01  3.625e-01   0.784  0.43326    </span></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a><span class="co">#&gt; coronary.D       -1.503e-01  2.837e-01  -0.530  0.59624    </span></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a><span class="co">#&gt; stroke            2.124e+00  2.251e-01   9.438  &lt; 2e-16 ***</span></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a><span class="co">#&gt; malignancy        4.113e-01  2.184e-01   1.884  0.05960 .  </span></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a><span class="co">#&gt; wbc               2.669e-02  1.194e-02   2.235  0.02543 *  </span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a><span class="co">#&gt; hemoglobin       -1.270e-01  4.542e-02  -2.796  0.00517 ** </span></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a><span class="co">#&gt; platelet          3.118e-04  8.312e-04   0.375  0.70755    </span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a><span class="co">#&gt; sodium            5.269e-02  2.842e-02   1.854  0.06375 .  </span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a><span class="co">#&gt; potassium        -7.686e-02  1.093e-01  -0.703  0.48190    </span></span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a><span class="co">#&gt; bicarbonate      -4.391e-02  2.140e-02  -2.052  0.04021 *  </span></span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a><span class="co">#&gt; chloride         -7.494e-02  2.437e-02  -3.076  0.00210 ** </span></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a><span class="co">#&gt; urea              1.531e-02  6.714e-03   2.280  0.02259 *  </span></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a><span class="co">#&gt; creat            -2.309e-01  1.276e-01  -1.809  0.07044 .  </span></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a><span class="co">#&gt; po2              -4.928e-04  6.556e-04  -0.752  0.45221    </span></span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a><span class="co">#&gt; pco2              9.618e-05  6.594e-03   0.015  0.98836    </span></span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a><span class="co">#&gt;     Null deviance: 1366.92  on 1580  degrees of freedom</span></span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a><span class="co">#&gt; Residual deviance:  935.05  on 1554  degrees of freedom</span></span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a><span class="co">#&gt; AIC: 989.05</span></span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 6</span></span></code></pre></div>
<p>To obtain the final model, we will be following the <strong>Mixed
Stepwise Selection</strong> approach based the AIC criterion using the
<code>step()</code> function.<br /> In fact, Stepwise selection is a
method for fitting regression models that involves the iterative
selection of independent variables based on the Akaike Information
Criterion (AIC) or the Bayesian Information Criterion (BIC).<br /> It
can be achieved through:<br /> - <strong>Forward selection</strong>:
starts with no variables and adds each new variable incrementally,
testing for statistical significance.<br />
- <strong>Backward selection</strong>: begins with a full model and then
removes the least statistically significant variables one at a
time.<br /> - <strong>Mixed selection</strong>: combines both forward
and backward selection to determine the best model.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Select best model according to AIC using mixed selection</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>model.<span class="fl">1.</span>best <span class="ot">&lt;-</span> <span class="fu">step</span>(model<span class="fl">.1</span>,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>                     <span class="at">direction =</span> <span class="st">&quot;both&quot;</span>,</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>                     <span class="at">trace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="fu">summary</span>(model.<span class="fl">1.</span>best)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="co">#&gt; glm(formula = death ~ age + sofa + Other.resp.D + AF + chr.renal.D + </span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="co">#&gt;     stroke + malignancy + wbc + hemoglobin + sodium + bicarbonate + </span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co">#&gt;     chloride + urea + creat, family = &quot;binomial&quot;, data = na.omit(variables.of.int))</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="co">#&gt;               Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="co">#&gt; (Intercept)  -4.866279   2.451014  -1.985  0.04710 *  </span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="co">#&gt; age           0.052962   0.006077   8.716  &lt; 2e-16 ***</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="co">#&gt; sofa          0.188385   0.038932   4.839 1.31e-06 ***</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="co">#&gt; Other.resp.D  0.708084   0.175419   4.037 5.42e-05 ***</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="co">#&gt; AF            0.431849   0.208613   2.070  0.03844 *  </span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="co">#&gt; chr.renal.D  -0.645694   0.394262  -1.638  0.10148    </span></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="co">#&gt; stroke        2.036510   0.212757   9.572  &lt; 2e-16 ***</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="co">#&gt; malignancy    0.418905   0.215164   1.947  0.05155 .  </span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="co">#&gt; wbc           0.023410   0.011229   2.085  0.03709 *  </span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="co">#&gt; hemoglobin   -0.131784   0.043028  -3.063  0.00219 ** </span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="co">#&gt; sodium        0.057571   0.027597   2.086  0.03697 *  </span></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="co">#&gt; bicarbonate  -0.039559   0.018806  -2.104  0.03542 *  </span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="co">#&gt; chloride     -0.078155   0.023825  -3.280  0.00104 ** </span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="co">#&gt; urea          0.016133   0.006468   2.494  0.01262 *  </span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="co">#&gt; creat        -0.233303   0.122958  -1.897  0.05777 .  </span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a><span class="co">#&gt; (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a><span class="co">#&gt;     Null deviance: 1366.92  on 1580  degrees of freedom</span></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a><span class="co">#&gt; Residual deviance:  943.81  on 1566  degrees of freedom</span></span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a><span class="co">#&gt; AIC: 973.81</span></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="co">#&gt; Number of Fisher Scoring iterations: 6</span></span></code></pre></div>
<p>As it can be seen, the output is a bit messy. Therefore, we will be
using the <code>tbl_regression()</code> from the “gtsummary” package to
get a tidy table.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">tbl_regression</span>(model.<span class="fl">1.</span>best, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div id="ufidowrwmu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ufidowrwmu table {
font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}
#ufidowrwmu thead, #ufidowrwmu tbody, #ufidowrwmu tfoot, #ufidowrwmu tr, #ufidowrwmu td, #ufidowrwmu th {
border-style: none;
}
#ufidowrwmu p {
margin: 0;
padding: 0;
}
#ufidowrwmu .gt_table {
display: table;
border-collapse: collapse;
line-height: normal;
margin-left: auto;
margin-right: auto;
color: #333333;
font-size: 16px;
font-weight: normal;
font-style: normal;
background-color: #FFFFFF;
width: auto;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #A8A8A8;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #A8A8A8;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
}
#ufidowrwmu .gt_caption {
padding-top: 4px;
padding-bottom: 4px;
}
#ufidowrwmu .gt_title {
color: #333333;
font-size: 125%;
font-weight: initial;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
border-bottom-color: #FFFFFF;
border-bottom-width: 0;
}
#ufidowrwmu .gt_subtitle {
color: #333333;
font-size: 85%;
font-weight: initial;
padding-top: 3px;
padding-bottom: 5px;
padding-left: 5px;
padding-right: 5px;
border-top-color: #FFFFFF;
border-top-width: 0;
}
#ufidowrwmu .gt_heading {
background-color: #FFFFFF;
text-align: center;
border-bottom-color: #FFFFFF;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}
#ufidowrwmu .gt_bottom_border {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#ufidowrwmu .gt_col_headings {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
}
#ufidowrwmu .gt_col_heading {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 6px;
padding-left: 5px;
padding-right: 5px;
overflow-x: hidden;
}
#ufidowrwmu .gt_column_spanner_outer {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: normal;
text-transform: inherit;
padding-top: 0;
padding-bottom: 0;
padding-left: 4px;
padding-right: 4px;
}
#ufidowrwmu .gt_column_spanner_outer:first-child {
padding-left: 0;
}
#ufidowrwmu .gt_column_spanner_outer:last-child {
padding-right: 0;
}
#ufidowrwmu .gt_column_spanner {
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: bottom;
padding-top: 5px;
padding-bottom: 5px;
overflow-x: hidden;
display: inline-block;
width: 100%;
}
#ufidowrwmu .gt_spanner_row {
border-bottom-style: hidden;
}
#ufidowrwmu .gt_group_heading {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
text-align: left;
}
#ufidowrwmu .gt_empty_group_heading {
padding: 0.5px;
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
vertical-align: middle;
}
#ufidowrwmu .gt_from_md > :first-child {
margin-top: 0;
}
#ufidowrwmu .gt_from_md > :last-child {
margin-bottom: 0;
}
#ufidowrwmu .gt_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
margin: 10px;
border-top-style: solid;
border-top-width: 1px;
border-top-color: #D3D3D3;
border-left-style: none;
border-left-width: 1px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 1px;
border-right-color: #D3D3D3;
vertical-align: middle;
overflow-x: hidden;
}
#ufidowrwmu .gt_stub {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
}
#ufidowrwmu .gt_stub_row_group {
color: #333333;
background-color: #FFFFFF;
font-size: 100%;
font-weight: initial;
text-transform: inherit;
border-right-style: solid;
border-right-width: 2px;
border-right-color: #D3D3D3;
padding-left: 5px;
padding-right: 5px;
vertical-align: top;
}
#ufidowrwmu .gt_row_group_first td {
border-top-width: 2px;
}
#ufidowrwmu .gt_row_group_first th {
border-top-width: 2px;
}
#ufidowrwmu .gt_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}
#ufidowrwmu .gt_first_summary_row {
border-top-style: solid;
border-top-color: #D3D3D3;
}
#ufidowrwmu .gt_first_summary_row.thick {
border-top-width: 2px;
}
#ufidowrwmu .gt_last_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#ufidowrwmu .gt_grand_summary_row {
color: #333333;
background-color: #FFFFFF;
text-transform: inherit;
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
}
#ufidowrwmu .gt_first_grand_summary_row {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-top-style: double;
border-top-width: 6px;
border-top-color: #D3D3D3;
}
#ufidowrwmu .gt_last_grand_summary_row_top {
padding-top: 8px;
padding-bottom: 8px;
padding-left: 5px;
padding-right: 5px;
border-bottom-style: double;
border-bottom-width: 6px;
border-bottom-color: #D3D3D3;
}
#ufidowrwmu .gt_striped {
background-color: rgba(128, 128, 128, 0.05);
}
#ufidowrwmu .gt_table_body {
border-top-style: solid;
border-top-width: 2px;
border-top-color: #D3D3D3;
border-bottom-style: solid;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
}
#ufidowrwmu .gt_footnotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}
#ufidowrwmu .gt_footnote {
margin: 0px;
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}
#ufidowrwmu .gt_sourcenotes {
color: #333333;
background-color: #FFFFFF;
border-bottom-style: none;
border-bottom-width: 2px;
border-bottom-color: #D3D3D3;
border-left-style: none;
border-left-width: 2px;
border-left-color: #D3D3D3;
border-right-style: none;
border-right-width: 2px;
border-right-color: #D3D3D3;
}
#ufidowrwmu .gt_sourcenote {
font-size: 90%;
padding-top: 4px;
padding-bottom: 4px;
padding-left: 5px;
padding-right: 5px;
}
#ufidowrwmu .gt_left {
text-align: left;
}
#ufidowrwmu .gt_center {
text-align: center;
}
#ufidowrwmu .gt_right {
text-align: right;
font-variant-numeric: tabular-nums;
}
#ufidowrwmu .gt_font_normal {
font-weight: normal;
}
#ufidowrwmu .gt_font_bold {
font-weight: bold;
}
#ufidowrwmu .gt_font_italic {
font-style: italic;
}
#ufidowrwmu .gt_super {
font-size: 65%;
}
#ufidowrwmu .gt_footnote_marks {
font-size: 75%;
vertical-align: 0.4em;
position: initial;
}
#ufidowrwmu .gt_asterisk {
font-size: 100%;
vertical-align: 0;
}
#ufidowrwmu .gt_indent_1 {
text-indent: 5px;
}
#ufidowrwmu .gt_indent_2 {
text-indent: 10px;
}
#ufidowrwmu .gt_indent_3 {
text-indent: 15px;
}
#ufidowrwmu .gt_indent_4 {
text-indent: 20px;
}
#ufidowrwmu .gt_indent_5 {
text-indent: 25px;
}
#ufidowrwmu .katex-display {
display: inline-flex !important;
margin-bottom: 0.75em !important;
}
#ufidowrwmu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="label"><span class="gt_from_md"><strong>Characteristic</strong></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="estimate"><span class="gt_from_md"><strong>OR</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="conf.low"><span class="gt_from_md"><strong>95% CI</strong></span><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="p.value"><span class="gt_from_md"><strong>p-value</strong></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">age</td>
<td headers="estimate" class="gt_row gt_center">1.05</td>
<td headers="conf.low" class="gt_row gt_center">1.04, 1.07</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sofa</td>
<td headers="estimate" class="gt_row gt_center">1.21</td>
<td headers="conf.low" class="gt_row gt_center">1.12, 1.30</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Other.resp.D</td>
<td headers="estimate" class="gt_row gt_center">2.03</td>
<td headers="conf.low" class="gt_row gt_center">1.44, 2.87</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">AF</td>
<td headers="estimate" class="gt_row gt_center">1.54</td>
<td headers="conf.low" class="gt_row gt_center">1.02, 2.31</td>
<td headers="p.value" class="gt_row gt_center">0.038</td></tr>
    <tr><td headers="label" class="gt_row gt_left">chr.renal.D</td>
<td headers="estimate" class="gt_row gt_center">0.52</td>
<td headers="conf.low" class="gt_row gt_center">0.23, 1.11</td>
<td headers="p.value" class="gt_row gt_center">0.10</td></tr>
    <tr><td headers="label" class="gt_row gt_left">stroke</td>
<td headers="estimate" class="gt_row gt_center">7.66</td>
<td headers="conf.low" class="gt_row gt_center">5.07, 11.7</td>
<td headers="p.value" class="gt_row gt_center">&lt;0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">malignancy</td>
<td headers="estimate" class="gt_row gt_center">1.52</td>
<td headers="conf.low" class="gt_row gt_center">0.99, 2.31</td>
<td headers="p.value" class="gt_row gt_center">0.052</td></tr>
    <tr><td headers="label" class="gt_row gt_left">wbc</td>
<td headers="estimate" class="gt_row gt_center">1.02</td>
<td headers="conf.low" class="gt_row gt_center">1.00, 1.05</td>
<td headers="p.value" class="gt_row gt_center">0.037</td></tr>
    <tr><td headers="label" class="gt_row gt_left">hemoglobin</td>
<td headers="estimate" class="gt_row gt_center">0.88</td>
<td headers="conf.low" class="gt_row gt_center">0.80, 0.95</td>
<td headers="p.value" class="gt_row gt_center">0.002</td></tr>
    <tr><td headers="label" class="gt_row gt_left">sodium</td>
<td headers="estimate" class="gt_row gt_center">1.06</td>
<td headers="conf.low" class="gt_row gt_center">1.00, 1.12</td>
<td headers="p.value" class="gt_row gt_center">0.037</td></tr>
    <tr><td headers="label" class="gt_row gt_left">bicarbonate</td>
<td headers="estimate" class="gt_row gt_center">0.96</td>
<td headers="conf.low" class="gt_row gt_center">0.93, 1.00</td>
<td headers="p.value" class="gt_row gt_center">0.035</td></tr>
    <tr><td headers="label" class="gt_row gt_left">chloride</td>
<td headers="estimate" class="gt_row gt_center">0.92</td>
<td headers="conf.low" class="gt_row gt_center">0.88, 0.97</td>
<td headers="p.value" class="gt_row gt_center">0.001</td></tr>
    <tr><td headers="label" class="gt_row gt_left">urea</td>
<td headers="estimate" class="gt_row gt_center">1.02</td>
<td headers="conf.low" class="gt_row gt_center">1.00, 1.03</td>
<td headers="p.value" class="gt_row gt_center">0.013</td></tr>
    <tr><td headers="label" class="gt_row gt_left">creat</td>
<td headers="estimate" class="gt_row gt_center">0.79</td>
<td headers="conf.low" class="gt_row gt_center">0.61, 0.98</td>
<td headers="p.value" class="gt_row gt_center">0.058</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> <span class="gt_from_md">OR = Odds Ratio, CI = Confidence Interval</span></td>
    </tr>
  </tfoot>
</table>
</div>
<p>Let’s now get an automatic report of the model using the “report”
package.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">report</span>(model.<span class="fl">1.</span>best)</span></code></pre></div>
<p>We fitted a logistic model (estimated using ML) to predict death with
age, sofa, Other.resp.D, AF, chr.renal.D, stroke, malignancy, wbc,
hemoglobin, sodium, bicarbonate, chloride, urea and creat (formula:
death ~ age + sofa + Other.resp.D + AF + chr.renal.D + stroke +
malignancy + wbc + hemoglobin + sodium + bicarbonate + chloride + urea +
creat). The model’s explanatory power is substantial (Tjur’s R2 = 0.30).
The model’s intercept, corresponding to age = 0, sofa = 0, Other.resp.D
= 0, AF = 0, chr.renal.D = 0, stroke = 0, malignancy = 0, wbc = 0,
hemoglobin = 0, sodium = 0, bicarbonate = 0, chloride = 0, urea = 0 and
creat = 0, is at -4.87 (95% CI [-9.76, -0.14], p = 0.047). Within this
model:</p>
<ul>
<li>The effect of age is statistically significant and positive (beta =
0.05, 95% CI [0.04, 0.07], p &lt; .001; Std. beta = 1.10, 95% CI [0.86,
1.35])</li>
<li>The effect of sofa is statistically significant and positive (beta =
0.19, 95% CI [0.11, 0.27], p &lt; .001; Std. beta = 0.43, 95% CI [0.26,
0.61])</li>
<li>The effect of Other resp D is statistically significant and positive
(beta = 0.71, 95% CI [0.37, 1.05], p &lt; .001; Std. beta = 0.33, 95% CI
[0.17, 0.50])</li>
<li>The effect of AF is statistically significant and positive (beta =
0.43, 95% CI [0.02, 0.84], p = 0.038; Std. beta = 0.14, 95% CI
[6.67e-03, 0.27])</li>
<li>The effect of chr renal D is statistically non-significant and
negative (beta = -0.65, 95% CI [-1.45, 0.11], p = 0.101; Std. beta =
-0.12, 95% CI [-0.26, 0.02])</li>
<li>The effect of stroke is statistically significant and positive (beta
= 2.04, 95% CI [1.62, 2.46], p &lt; .001; Std. beta = 0.66, 95% CI
[0.53, 0.80])</li>
<li>The effect of malignancy is statistically non-significant and
positive (beta = 0.42, 95% CI [-8.91e-03, 0.84], p = 0.052; Std. beta =
0.15, 95% CI [-3.15e-03, 0.30])</li>
<li>The effect of wbc is statistically significant and positive (beta =
0.02, 95% CI [7.74e-04, 0.05], p = 0.037; Std. beta = 0.16, 95% CI
[5.24e-03, 0.31])</li>
<li>The effect of hemoglobin is statistically significant and negative
(beta = -0.13, 95% CI [-0.22, -0.05], p = 0.002; Std. beta = -0.29, 95%
CI [-0.47, -0.10])</li>
<li>The effect of sodium is statistically significant and positive (beta
= 0.06, 95% CI [3.43e-03, 0.11], p = 0.037; Std. beta = 0.27, 95% CI
[0.02, 0.53])</li>
<li>The effect of bicarbonate is statistically significant and negative
(beta = -0.04, 95% CI [-0.08, -2.38e-03], p = 0.035; Std. beta = -0.20,
95% CI [-0.39, -0.01])</li>
<li>The effect of chloride is statistically significant and negative
(beta = -0.08, 95% CI [-0.12, -0.03], p = 0.001; Std. beta = -0.45, 95%
CI [-0.73, -0.18])</li>
<li>The effect of urea is statistically significant and positive (beta =
0.02, 95% CI [3.57e-03, 0.03], p = 0.013; Std. beta = 0.23, 95% CI
[0.05, 0.42])</li>
<li>The effect of creat is statistically non-significant and negative
(beta = -0.23, 95% CI [-0.50, -0.02], p = 0.058; Std. beta = -0.24, 95%
CI [-0.52, -0.02])</li>
</ul>
<p>Standardized parameters were obtained by fitting the model on a
standardized version of the dataset. 95% Confidence Intervals (CIs) and
p-values were computed using a Wald z-distribution approximation.</p>
<p>The final model identified 11 predictor variables that significantly
impacted hospital mortality: <strong>age, sofa, other.resp.D, AF,
stroke, wbc, hemoglobin, sodium, bicarbonate, chloride, and
urea</strong>. The presence of stroke increased the odds of death by
approximately 7.66 times (95% CI: 5.07 to 11.7), while respiratory
diseases (excluding COPD) increased the odds by about 2.03 times (95%
CI: 1.44 to 2.87).</p>
</div>
<div id="summary-table" class="section level3">
<h3>4. Summary table</h3>
<p><strong>I would like to create a summary table combining :</strong> -
all univariable logistic regressions that are possible with the
variables available in our dataframe, - a multivariable logistic
regression that includes all variables available in our dataframe, and -
a multivariable logistic regression that includes only some of variables
available in our dataframe.</p>
<p>We start with all possible univariable logistic regressions</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Set response and predictor variables</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="st">&quot;death&quot;</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>predictor <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;IAC&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;sex&quot;</span>, <span class="st">&quot;sofa&quot;</span>, <span class="st">&quot;service_unit&quot;</span>, <span class="st">&quot;COPD&quot;</span>, <span class="st">&quot;Other.resp.D&quot;</span>,</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>               <span class="st">&quot;CHF&quot;</span>, <span class="st">&quot;AF&quot;</span>, <span class="st">&quot;chr.renal.D&quot;</span>, <span class="st">&quot;chr.liver.D&quot;</span>, <span class="st">&quot;coronary.D&quot;</span>, <span class="st">&quot;stroke&quot;</span>,</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>               <span class="st">&quot;malignancy&quot;</span>, <span class="st">&quot;wbc&quot;</span>, <span class="st">&quot;hemoglobin&quot;</span>, <span class="st">&quot;platelet&quot;</span>, <span class="st">&quot;sodium&quot;</span>, <span class="st">&quot;potassium&quot;</span>,</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>               <span class="st">&quot;bicarbonate&quot;</span>, <span class="st">&quot;chloride&quot;</span>, <span class="st">&quot;urea&quot;</span>, <span class="st">&quot;creat&quot;</span>, <span class="st">&quot;po2&quot;</span>, <span class="st">&quot;pco2&quot;</span>)</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="co"># Save results </span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>glmuni <span class="ot">&lt;-</span> variables.of.int <span class="sc">%&gt;%</span> </span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>  <span class="fu">glmuni</span>(response, predictor) <span class="sc">%&gt;%</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>  <span class="fu">fit2df</span>(<span class="at">explanatory_name =</span> <span class="st">&quot;Variables&quot;</span>,</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>         <span class="at">estimate_name =</span> <span class="st">&quot;Crude OR&quot;</span>,</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>         <span class="at">estimate_suffix =</span> <span class="st">&quot; (95% CI, p value)&quot;</span>)</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="fu">kable</span>(glmuni) </span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variables</th>
<th align="left">Crude OR (95% CI, p value)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">IAC</td>
<td align="left">1.25 (0.97-1.63, p=0.085)</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="left">1.07 (1.06-1.08, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="left">0.66 (0.51-0.85, p=0.001)</td>
</tr>
<tr class="even">
<td align="left">sofa</td>
<td align="left">1.18 (1.12-1.24, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">service_unitMICU</td>
<td align="left">4.13 (1.50-17.10, p=0.018)</td>
</tr>
<tr class="even">
<td align="left">service_unitSICU</td>
<td align="left">3.63 (1.32-15.00, p=0.031)</td>
</tr>
<tr class="odd">
<td align="left">COPD</td>
<td align="left">2.01 (1.36-2.92, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">Other.resp.D</td>
<td align="left">2.00 (1.54-2.59, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">CHF</td>
<td align="left">2.94 (2.12-4.04, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">AF</td>
<td align="left">4.95 (3.61-6.77, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">chr.renal.D</td>
<td align="left">1.64 (0.86-2.94, p=0.115)</td>
</tr>
<tr class="even">
<td align="left">chr.liver.D</td>
<td align="left">1.27 (0.74-2.09, p=0.363)</td>
</tr>
<tr class="odd">
<td align="left">coronary.D</td>
<td align="left">2.06 (1.33-3.10, p=0.001)</td>
</tr>
<tr class="even">
<td align="left">stroke</td>
<td align="left">8.87 (6.52-12.08, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">malignancy</td>
<td align="left">1.64 (1.18-2.26, p=0.003)</td>
</tr>
<tr class="even">
<td align="left">wbc</td>
<td align="left">1.01 (0.99-1.03, p=0.298)</td>
</tr>
<tr class="odd">
<td align="left">hemoglobin</td>
<td align="left">0.86 (0.81-0.91, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">platelet</td>
<td align="left">1.00 (1.00-1.00, p=0.464)</td>
</tr>
<tr class="odd">
<td align="left">sodium</td>
<td align="left">0.98 (0.95-1.00, p=0.075)</td>
</tr>
<tr class="even">
<td align="left">potassium</td>
<td align="left">1.14 (0.97-1.32, p=0.095)</td>
</tr>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="left">1.03 (1.00-1.06, p=0.024)</td>
</tr>
<tr class="even">
<td align="left">chloride</td>
<td align="left">0.96 (0.94-0.98, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">urea</td>
<td align="left">1.03 (1.02-1.04, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">creat</td>
<td align="left">1.09 (0.99-1.20, p=0.074)</td>
</tr>
<tr class="odd">
<td align="left">po2</td>
<td align="left">1.00 (1.00-1.00, p=0.019)</td>
</tr>
<tr class="even">
<td align="left">pco2</td>
<td align="left">1.00 (0.99-1.01, p=0.641)</td>
</tr>
</tbody>
</table>
<p>Here is the multivariable logistic regression with all variables</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>glmmulti_full <span class="ot">&lt;-</span> variables.of.int <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="fu">glmmulti</span>(response, predictor) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="fu">fit2df</span>(<span class="at">explanatory_name =</span> <span class="st">&quot;Variables&quot;</span>,</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>         <span class="at">estimate_name =</span> <span class="st">&quot;Adjusted OR - full model&quot;</span>)</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="fu">kable</span>(glmmulti_full) </span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variables</th>
<th align="left">Adjusted OR - full model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">IAC</td>
<td align="left">1.01 (0.68-1.51, p=0.945)</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="left">1.06 (1.04-1.07, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="left">1.25 (0.88-1.78, p=0.206)</td>
</tr>
<tr class="even">
<td align="left">sofa</td>
<td align="left">1.20 (1.10-1.31, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">service_unitMICU</td>
<td align="left">2.95 (0.88-13.93, p=0.115)</td>
</tr>
<tr class="even">
<td align="left">service_unitSICU</td>
<td align="left">2.59 (0.79-12.07, p=0.161)</td>
</tr>
<tr class="odd">
<td align="left">COPD</td>
<td align="left">1.03 (0.62-1.68, p=0.904)</td>
</tr>
<tr class="even">
<td align="left">Other.resp.D</td>
<td align="left">1.83 (1.25-2.70, p=0.002)</td>
</tr>
<tr class="odd">
<td align="left">CHF</td>
<td align="left">1.35 (0.84-2.14, p=0.208)</td>
</tr>
<tr class="even">
<td align="left">AF</td>
<td align="left">1.49 (0.98-2.26, p=0.059)</td>
</tr>
<tr class="odd">
<td align="left">chr.renal.D</td>
<td align="left">0.48 (0.21-1.07, p=0.080)</td>
</tr>
<tr class="even">
<td align="left">chr.liver.D</td>
<td align="left">1.33 (0.64-2.66, p=0.433)</td>
</tr>
<tr class="odd">
<td align="left">coronary.D</td>
<td align="left">0.86 (0.49-1.48, p=0.596)</td>
</tr>
<tr class="even">
<td align="left">stroke</td>
<td align="left">8.37 (5.41-13.08, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">malignancy</td>
<td align="left">1.51 (0.98-2.30, p=0.060)</td>
</tr>
<tr class="even">
<td align="left">wbc</td>
<td align="left">1.03 (1.00-1.05, p=0.025)</td>
</tr>
<tr class="odd">
<td align="left">hemoglobin</td>
<td align="left">0.88 (0.81-0.96, p=0.005)</td>
</tr>
<tr class="even">
<td align="left">platelet</td>
<td align="left">1.00 (1.00-1.00, p=0.708)</td>
</tr>
<tr class="odd">
<td align="left">sodium</td>
<td align="left">1.05 (1.00-1.11, p=0.064)</td>
</tr>
<tr class="even">
<td align="left">potassium</td>
<td align="left">0.93 (0.75-1.15, p=0.482)</td>
</tr>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="left">0.96 (0.92-1.00, p=0.040)</td>
</tr>
<tr class="even">
<td align="left">chloride</td>
<td align="left">0.93 (0.88-0.97, p=0.002)</td>
</tr>
<tr class="odd">
<td align="left">urea</td>
<td align="left">1.02 (1.00-1.03, p=0.023)</td>
</tr>
<tr class="even">
<td align="left">creat</td>
<td align="left">0.79 (0.60-0.99, p=0.070)</td>
</tr>
<tr class="odd">
<td align="left">po2</td>
<td align="left">1.00 (1.00-1.00, p=0.452)</td>
</tr>
<tr class="even">
<td align="left">pco2</td>
<td align="left">1.00 (0.99-1.01, p=0.988)</td>
</tr>
</tbody>
</table>
<p>Here is the multivariable logistic regression with variables of the
best model identified by the stepwise selection.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># Set predictor variables to be included in the final model</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>predictor_final <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;sofa&quot;</span>, <span class="st">&quot;Other.resp.D&quot;</span>, <span class="st">&quot;AF&quot;</span>, <span class="st">&quot;stroke&quot;</span>, <span class="st">&quot;wbc&quot;</span>, </span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>                     <span class="st">&quot;hemoglobin&quot;</span>, <span class="st">&quot;sodium&quot;</span>, <span class="st">&quot;bicarbonate&quot;</span>, <span class="st">&quot;chloride&quot;</span>, <span class="st">&quot;urea&quot;</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="co"># Save results </span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>glmmulti_final <span class="ot">&lt;-</span> variables.of.int <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="fu">glmuni</span>(response, predictor_final) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>  <span class="fu">fit2df</span>(<span class="at">explanatory_name =</span> <span class="st">&quot;Variables&quot;</span>,</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>         <span class="at">estimate_name =</span> <span class="st">&quot;Adjusted OR - final model&quot;</span>)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="fu">kable</span>(glmmulti_final) </span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variables</th>
<th align="left">Adjusted OR - final model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">age</td>
<td align="left">1.07 (1.06-1.08, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">sofa</td>
<td align="left">1.18 (1.12-1.24, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">Other.resp.D</td>
<td align="left">2.00 (1.54-2.59, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">AF</td>
<td align="left">4.95 (3.61-6.77, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">stroke</td>
<td align="left">8.87 (6.52-12.08, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">wbc</td>
<td align="left">1.01 (0.99-1.03, p=0.298)</td>
</tr>
<tr class="odd">
<td align="left">hemoglobin</td>
<td align="left">0.86 (0.81-0.91, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">sodium</td>
<td align="left">0.98 (0.95-1.00, p=0.075)</td>
</tr>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="left">1.03 (1.00-1.06, p=0.024)</td>
</tr>
<tr class="even">
<td align="left">chloride</td>
<td align="left">0.96 (0.94-0.98, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">urea</td>
<td align="left">1.03 (1.02-1.04, p&lt;0.001)</td>
</tr>
</tbody>
</table>
<p>Here how we can merge all those 3 tables:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>glmuni<span class="sc">$</span>index <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(glmuni) <span class="co"># to keep track of the original order </span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="co"># We then merge the data frames</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>finaltab <span class="ot">&lt;-</span> glmuni <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  <span class="fu">merge</span>(glmmulti_full) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>  <span class="fu">left_join</span>(glmmulti_final, <span class="at">by =</span> <span class="st">&quot;Variables&quot;</span>) </span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a><span class="co"># Sort the merged data frame based on the original order</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>finaltab <span class="ot">&lt;-</span> finaltab[<span class="fu">order</span>(finaltab<span class="sc">$</span>index), ] <span class="sc">%&gt;%</span> </span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>index) </span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>  </span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="fu">rownames</span>(finaltab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="fu">kable</span>(finaltab)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="17%" />
<col width="27%" />
<col width="27%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Variables</th>
<th align="left">Crude OR (95% CI, p value)</th>
<th align="left">Adjusted OR - full model</th>
<th align="left">Adjusted OR - final model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">IAC</td>
<td align="left">1.25 (0.97-1.63, p=0.085)</td>
<td align="left">1.01 (0.68-1.51, p=0.945)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="left">1.07 (1.06-1.08, p&lt;0.001)</td>
<td align="left">1.06 (1.04-1.07, p&lt;0.001)</td>
<td align="left">1.07 (1.06-1.08, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="left">0.66 (0.51-0.85, p=0.001)</td>
<td align="left">1.25 (0.88-1.78, p=0.206)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">sofa</td>
<td align="left">1.18 (1.12-1.24, p&lt;0.001)</td>
<td align="left">1.20 (1.10-1.31, p&lt;0.001)</td>
<td align="left">1.18 (1.12-1.24, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">service_unitMICU</td>
<td align="left">4.13 (1.50-17.10, p=0.018)</td>
<td align="left">2.95 (0.88-13.93, p=0.115)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">service_unitSICU</td>
<td align="left">3.63 (1.32-15.00, p=0.031)</td>
<td align="left">2.59 (0.79-12.07, p=0.161)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">COPD</td>
<td align="left">2.01 (1.36-2.92, p&lt;0.001)</td>
<td align="left">1.03 (0.62-1.68, p=0.904)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Other.resp.D</td>
<td align="left">2.00 (1.54-2.59, p&lt;0.001)</td>
<td align="left">1.83 (1.25-2.70, p=0.002)</td>
<td align="left">2.00 (1.54-2.59, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">CHF</td>
<td align="left">2.94 (2.12-4.04, p&lt;0.001)</td>
<td align="left">1.35 (0.84-2.14, p=0.208)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">AF</td>
<td align="left">4.95 (3.61-6.77, p&lt;0.001)</td>
<td align="left">1.49 (0.98-2.26, p=0.059)</td>
<td align="left">4.95 (3.61-6.77, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">chr.renal.D</td>
<td align="left">1.64 (0.86-2.94, p=0.115)</td>
<td align="left">0.48 (0.21-1.07, p=0.080)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">chr.liver.D</td>
<td align="left">1.27 (0.74-2.09, p=0.363)</td>
<td align="left">1.33 (0.64-2.66, p=0.433)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">coronary.D</td>
<td align="left">2.06 (1.33-3.10, p=0.001)</td>
<td align="left">0.86 (0.49-1.48, p=0.596)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">stroke</td>
<td align="left">8.87 (6.52-12.08, p&lt;0.001)</td>
<td align="left">8.37 (5.41-13.08, p&lt;0.001)</td>
<td align="left">8.87 (6.52-12.08, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">malignancy</td>
<td align="left">1.64 (1.18-2.26, p=0.003)</td>
<td align="left">1.51 (0.98-2.30, p=0.060)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">wbc</td>
<td align="left">1.01 (0.99-1.03, p=0.298)</td>
<td align="left">1.03 (1.00-1.05, p=0.025)</td>
<td align="left">1.01 (0.99-1.03, p=0.298)</td>
</tr>
<tr class="odd">
<td align="left">hemoglobin</td>
<td align="left">0.86 (0.81-0.91, p&lt;0.001)</td>
<td align="left">0.88 (0.81-0.96, p=0.005)</td>
<td align="left">0.86 (0.81-0.91, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">platelet</td>
<td align="left">1.00 (1.00-1.00, p=0.464)</td>
<td align="left">1.00 (1.00-1.00, p=0.708)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">sodium</td>
<td align="left">0.98 (0.95-1.00, p=0.075)</td>
<td align="left">1.05 (1.00-1.11, p=0.064)</td>
<td align="left">0.98 (0.95-1.00, p=0.075)</td>
</tr>
<tr class="even">
<td align="left">potassium</td>
<td align="left">1.14 (0.97-1.32, p=0.095)</td>
<td align="left">0.93 (0.75-1.15, p=0.482)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="left">1.03 (1.00-1.06, p=0.024)</td>
<td align="left">0.96 (0.92-1.00, p=0.040)</td>
<td align="left">1.03 (1.00-1.06, p=0.024)</td>
</tr>
<tr class="even">
<td align="left">chloride</td>
<td align="left">0.96 (0.94-0.98, p&lt;0.001)</td>
<td align="left">0.93 (0.88-0.97, p=0.002)</td>
<td align="left">0.96 (0.94-0.98, p&lt;0.001)</td>
</tr>
<tr class="odd">
<td align="left">urea</td>
<td align="left">1.03 (1.02-1.04, p&lt;0.001)</td>
<td align="left">1.02 (1.00-1.03, p=0.023)</td>
<td align="left">1.03 (1.02-1.04, p&lt;0.001)</td>
</tr>
<tr class="even">
<td align="left">creat</td>
<td align="left">1.09 (0.99-1.20, p=0.074)</td>
<td align="left">0.79 (0.60-0.99, p=0.070)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">po2</td>
<td align="left">1.00 (1.00-1.00, p=0.019)</td>
<td align="left">1.00 (1.00-1.00, p=0.452)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">pco2</td>
<td align="left">1.00 (0.99-1.01, p=0.641)</td>
<td align="left">1.00 (0.99-1.01, p=0.988)</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
